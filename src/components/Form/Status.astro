---
import cn from 'classnames'
const {disabled, status, hidden = true} = Astro.props;
const classButton = cn("fap-form-subscribe__status", {
		"fap-form-subscribe__status--pending": status == "pending",
		"fap-form-subscribe__status--success": status == "success",
		"fap-form-subscribe__status--error": status == "error",
	});
---

<button hidden={hidden} class={classButton} disabled={disabled}>
    <span><slot /></span>
</button>

<style lang="scss" scoped>
    .fap-form-subscribe__status {
        background-color: var(--color-white);
        outline: none;
        border: none;
        padding: .85em 1.42em;
        font-weight: 500;

        &--pending {
            span {
                position: relative;
                &::before {
                    content: "";
                    position: absolute;
                    top: -1px;
                    left: -2em;
                    background-image: url(https://static.wow2print.com/storage/245/content/image/36997261966727c89974403.79465655.svg);
                    background-repeat: no-repeat;
                    background-size: contain;
                    width: 1.42em;
                    height: 1.42em;
                    transition-delay: infinity;
                    animation: rotate-animation 2s infinite linear;
                }
            }
            
        }
        &--error {
            color: red;
            cursor: pointer;
        }
    }
    @keyframes rotate-animation {
	0% {
            transform: rotate(0deg);
    }
    50% {
            transform: rotate(180deg);
        }
        100% {
            transform: rotate(360deg);
        }
    }
</style>