---
// import DropdownMenu from "./DropdownMenu.astro";
const { items } = Astro.props
---
<ul class="fap-top-menu-dropdown">
    {
        items?.map( item =>
            <>
                <li>
                    <a href={item.path}>{item.title}</a>
                    {
                        item?.items?.length > 0 && <Astro.self items={item?.items} />
                    }
                </li>
                
            </>
        )
    }

</ul>

<style lang="scss" is:global>
    .fap-top-menu-dropdown {
        position: absolute;
        top: calc(100% + 20px);
        left: 0;
        white-space: nowrap;
        background-color: var(--color-white);
        box-shadow: var(--shadow-default);
        border-radius: 5px;
        opacity: 0;
        visibility: hidden;
        transition: var(--animate-default);
        pointer-events: none;
        &::before {
            content: "";
            position: absolute;
            top: -20px;
            left: 0;
            width: 100%;
            height: 20px;
        }

        & > li {
            position: relative;

            & a {
                display: inline-block;
                padding: 10px;
                width: calc(100%);
                color: var(--color-dark-gray);
                &:hover {
                    background-color: var(--color-medium-gray);
                }
            }

            & > .fap-top-menu-dropdown {
                position: absolute;
                left: calc(100% + 1em);
                top: 0;
                &::before {
                    position: absolute;
                    content: "";
                    width: 1em;
                    height: 100%;
                    left: -1em;
                    top: 0;
                }
            }
        } 
    }
    .fap-top-menu, .fap-top-menu-dropdown,  {
        & > li:hover > .fap-top-menu-dropdown {
            opacity: 1;
            visibility: visible;
            pointer-events: all;
        }
    }
    #menu-user:checked ~ .fap-top-menu-dropdown {
        opacity: 1;
        visibility: visible;
        pointer-events: all;
    }
    
</style>